var NAVTREE =
[
  [ "PostgreSQL Source Code", "index.html", [
    [ "Namespaces", null, [
      [ "Namespace List", "namespaces.html", "namespaces" ],
      [ "Namespace Members", "namespacemembers.html", [
        [ "All", "namespacemembers.html", null ],
        [ "Variables", "namespacemembers_vars.html", null ]
      ] ]
    ] ],
    [ "Data Structures", null, [
      [ "Data Structures", "annotated.html", "annotated" ],
      [ "Data Structure Index", "classes.html", null ],
      [ "Data Fields", "functions.html", [
        [ "All", "functions.html", "functions_dup" ],
        [ "Functions", "functions_func.html", null ],
        [ "Variables", "functions_vars.html", "functions_vars" ],
        [ "Enumerator", "functions_eval.html", null ]
      ] ]
    ] ],
    [ "Files", null, [
      [ "File List", "files.html", "files" ],
      [ "Globals", "globals.html", [
        [ "All", "globals.html", "globals_dup" ],
        [ "Functions", "globals_func.html", "globals_func" ],
        [ "Variables", "globals_vars.html", "globals_vars" ],
        [ "Typedefs", "globals_type.html", "globals_type" ],
        [ "Enumerations", "globals_enum.html", "globals_enum" ],
        [ "Enumerator", "globals_eval.html", "globals_eval" ],
        [ "Macros", "globals_defs.html", "globals_defs" ]
      ] ]
    ] ]
  ] ]
];

var NAVTREEINDEX =
[
"EAN13_8h.html",
"__ltree__gist_8c.html#a53035ae8a3077c2fce358e9e4c701f3a",
"acl_8h.html#a3d4bad43749ac20cf3d040f0ac16817b",
"allpaths_8c.html#a6fabd71555d3447c140449554ae97e5a",
"arrayfuncs_8c.html#a9bb3587ad87caba50e038fff2cf74613",
"auth_8c.html#a8ae42ba2ce0f75b506088c183d03e73f",
"backend_2commands_2variable_8c.html#a611d597acf4a21e736c0466c5fae86ea",
"backend_2utils_2adt_2misc_8c.html#a0cfff0a30b9ba4739a30de2879af5164",
"backend_2utils_2adt_2timestamp_8c.html#a43fd0f2a3091e22f0c676a40129cbe95",
"bgworker_8h.html",
"bin_2psql_2print_8h.html#a7e8cd752df0863a9a80177a7b67ae85c",
"bool_8c.html#afc3c92cb33d969b61855acf440c679d7",
"btree__gin_8c.html#ac513160c94fb2a6a4790f7eaf25c4398",
"btree__oid_8c_source.html",
"buffile_8c_source.html",
"builtins_8h.html#a042cd191647556be2af89050f0262edc",
"builtins_8h.html#a3fb849a15544218bbae528deb5b06f58",
"builtins_8h.html#a7d6874bf4f23f6c8555d446d7e751190",
"builtins_8h.html#ab9abc96a3f37d646f8d0e0df4efe9cf5",
"builtins_8h.html#afba6c980cbb5f7c3673d25395de8a5f4",
"cash_8h.html#ab592cff0758ed28ace6cb62bece92067",
"clauses_8c.html#a01ce7d85934983d5db62b0755f1ee90e",
"command_8c.html#a7fb388c740f9cb7d7714a98768523f1b",
"compress__io_8h.html#a638b041f26ab803ca9d9d6069036b813",
"copyfuncs_8c.html#a3a41bfdc2a2f2ef88e80e522c86e6129",
"cost_8h.html#adebf325f6c42de714f3898e737164ae5",
"crypt-des_8c.html#ab2d4007a3c4c325852cbf71683d1e120",
"datatype_2timestamp_8h.html#ae1a5a00bf6c2a494ab8f616636a4a15a",
"date_8h.html#ade68d20aa9345a30e6a0dc5d3398bba7",
"decode_8c.html#a3e01b7b2129410261f5033201f6d5217",
"dependency_8h.html#ae039b22717531e98d33fb56e43f85cc1a814fbd4550b1e6235d270d7609e6becf",
"dir_1ed05758c901f18475a3c3742f1d76b9.html",
"dropcmds_8c.html",
"dt_8h.html#aca8509ee19ccebf87ac4ae679678e9e8",
"ecpg__informix_8h.html#a3f1457cb04841b31726f215a4e0cf7a3",
"ecpgtype_8h.html#a5aa8c291503292f1249ed102941b6291a5e5695b8d853297ccd1f220a60fc65d1",
"encode_8c.html#afbe747db8fe4ef997c1ddfb79ea58160",
"equivclass_8c.html#aa2afce0db8f80a02554679a9fa2a1571",
"execMain_8c.html#aa9a7b0d9280b03811bca6986d2682821",
"execnodes_8h.html#a91cb88d442401dc7818919f391ee4291a3bc4b5bc7592db5db0ae3f7fc6659273",
"explain_8c.html#a97271051644ffad9ea12f2fae837dd9d",
"fdwapi_8h.html#a5affbc130707f2c4922096e9d3b190d3",
"fe-exec_8c.html#afde4e00748c79c91389b654077bb923f",
"float_8c.html#a4d7b66eb3b4e6ec092990432af8e484d",
"fmgr_8h.html#a569246d9dde27a284d0d88c6af5dbfbb",
"formatting_8c.html#a360ac3183642b1a2acf55a1f57eff474",
"formatting_8c.html#ac9693df6c31da3e82c538c1611a27a84",
"funcs__new_8c.html#a279739e4b2a89a572eae91fb9f327fa0",
"genbki_8h.html#ae724a45f450b04e1e39e5f8bdf60390b",
"geo__decls_8h.html#ade16ba5bca605381a3ef1bc8965849e5",
"geo__ops_8c.html#ad4df2b67349a5fc3e6d8db0e8ff4ea87",
"getrusage_8c.html#ad6e5541bb27a9d73aa065f6190f3a3c5",
"ginbulk_8c.html#aa03bbdc2119a1ba4c5ede411f41c2ee4",
"gist_8h.html#ac2ac0bd1928b9b63aeda1d42f69f15fb",
"gistutil_8c.html#ad64b0073e2adb5b9c7a1927225d20daa",
"globals_vars_0x6a.html",
"guc_8c.html#af43d8d83eabc4e5b01284d466b5629a6",
"hash_8h.html",
"hba_8c.html#a82f55457a37c2287724d59baa2a42a48",
"heapam_8h.html#a128870e799804bb2bb1cd17210dc4ef7",
"hsearch_8h.html#a570b3b725357770701d8b56ea8518aea",
"hstore__op_8c.html#a9566af69a4d02a42d4a3d94f2c31b067",
"imath_8c.html#a1a993f75c5d40fe3b10524d9ac036d2a",
"include_2catalog_2pg__type_8h.html#a2b58cc4c4f86ad0a33ad4bdf9ce9fe8f",
"include_2port_2win32_8h.html#a19d31471069da54d42c59ec86130e85a",
"include_2utils_2datetime_8h.html#ad64d7999adae3bb5ea41230488bbff1f",
"indexing_8h.html#a8cb811b9d3bcab4d9596e893cc395f29",
"informix_8c.html#ad185f87c1c6fb1f6eacdc617f27e6cb7",
"int8_8c.html#a3ba16fe308f95049f28af3cfe2084a8c",
"interfaces_2ecpg_2ecpglib_2misc_8c.html#a684e0ea49cafcbc040ce7771bbcf0c6d",
"internal_8c.html#a09a4f4b2f28cbe522d9b80153666029c",
"isn_8c.html#a4d8d40c5a31c3c7034a70d49a1c05593",
"json_8c.html#a78bffcd9d923d51f1f16b6cf659bf60b",
"jsonb__gin_8c.html#af96c66f3e28b9fcd207d6b1a31d4facb",
"latin2__and__win1250_8c.html#a50030c7fb25e3640f83836a850385b1a",
"libpq-fe_8h.html#abf3cdbf643993ad6d51b286dec46a753",
"like_8c.html#a807a1c2287bf1116a6b2da9103fe7c2a",
"lock_8c.html#a1e4c7ae4fab414f7c3167546ab8bfc33",
"logical_8h.html#a93a426dbe54730c285d52c9f7dcb2a62",
"lsyscache_8h.html#aaddb00a831ca28f6328832a5acdf854f",
"ltxtquery__io_8c.html",
"mbprint_8c.html#a67683cf3f4e62c0307562c4de02bd657",
"memutils_8h.html",
"mkdtemp_8c.html",
"nabstime_8h.html#a28861dc2071fc510cd404e8c0fc89e17",
"namespace_8h.html#ae9a42f0000d1d2542b2c0ba1f90fedce",
"nbtsearch_8c.html#a1a017133cfe5563461c4d48480a5a7c9",
"nodeBitmapHeapscan_8c.html#a0685531b8d94db1294d9a917b3ad2159",
"nodeIndexscan_8h.html",
"nodeSubqueryscan_8c.html#aead32e8cdf16dd7ebde61b0f70b4c457",
"nodes_8h.html#a83ba1e84fa23f6619c3d29036b160919a5b32457aa5ea99492af95ca88590fbdd",
"numeric_8h.html#a17b80dac9b55e986756ab25e66b0178e",
"openssl_8c.html#a94420b3ca508b7d4c1c44adc6e878399",
"outfuncs_8c.html#ace02b6a0b38ee5f735d7dc43531c5d1c",
"parse__collate_8c.html#a160c2c22434e5878ae0ae54a7bf54eed",
"parse__relation_8c.html#a06abe943af8fcb04f19eed73700e83fe",
"parsenodes_8h.html#a35b44f69981bf4a1addbebdd3d664759",
"parsenodes_8h.html#aa070b0142c49a5b2a13d6f2e8ac4ecde",
"pathnode_8c.html#a6826d0f6d91fd9a2ef92ffc5d643edde",
"pg__aggregate_8h.html#ab924698e91ad71e7906e439de2d58de6",
"pg__amop_8h.html#a5dfa9197d9079a3ad68ad4366a00693f",
"pg__amop_8h.html#ae482a7e831638910ee839bdcb6421eb6",
"pg__amproc_8h.html#a92576e90d6dc2e0ea61ad67ce61e9d75",
"pg__backup_8h.html#a0c9594f5ba89e85865ec2174708d749f",
"pg__backup__archiver_8h.html#ad99dd4632e941d95f1d3bb4e5ec31f96",
"pg__basebackup_8c.html#af6b638cbdf06005e22b1ebd1a7666dbe",
"pg__class_8h.html#a83ff33a88d588cdad5e79fe976ea0461",
"pg__crc__tables_8h.html#ac781b87f2018de2479e747ecb7e342c8",
"pg__dump_8c.html#a7aeb8991070c062c7e61ceae0ee94392",
"pg__dump__sort_8c.html#acc9a27f4c6ff42bc97a29adf982c9608",
"pg__largeobject_8h.html#ad06169f75fde812b08c1ed501c73a72c",
"pg__namespace_8h.html#ab490c45fbab987872f0a89967daea167",
"pg__operator_8h.html#a766c51fe6a1126d302632e8516d41f68",
"pg__proc_8h.html#a1195a1920cf346968d51e8255abf474f",
"pg__proc_8h.html#a48dd95a206b564d270ef18f05430ba68",
"pg__proc_8h.html#a822d7e2d7fce87c02fb950d12e1b3939",
"pg__proc_8h.html#ac495e0f4e5583dbac3c7cc7e4b470601",
"pg__range_8h.html#adb767d907cfb63ea20c2952e7fdbf2fd",
"pg__shdepend_8c.html#a2a3cae49e6781726af07e98e7d9f2e30ae17fd5b5e51190d986daee38425274df",
"pg__tablespace_8h.html#a55e1e83f3afb5b4ecf2bfd07517f8826",
"pg__upgrade_8h.html#a256a5721249aa3309437212cc21a9fe4",
"pg__wchar_8h.html#a8565aa21befec65424ac196f15573ff1",
"pgcrypto_8c.html#ae86fbb238516765f99a5560b7d3d8abc",
"pgp-pubenc_8c_source.html",
"pgstat_8c.html#a479e82c1e7ca0e311ad7f3d46dddd226",
"pgstat_8h.html#ada3929e9f840d7ae57dd79e9ee32d3bc",
"pgtypes__numeric_8h.html#ade1e6b7dbd71d599620991e9f10a0402",
"pl__funcs_8c.html#a88508cf6f1d11a7b7709cb2e01580767",
"planner_8c.html#a17ab549af5c7bb152bb62f0fd8c6ffea",
"plpgsql_8h.html#a1a93e538d067bc0fb5599d4baaf6c281",
"plpy__plpymodule_8c.html#a34ec852d530d7e4de69ea14793670b35",
"pmsignal_8c.html#ab36f4eb56c7a5bd3bd70df00f94f513e",
"portalmem_8c.html#a5d9359e47387d3e7af2cede1f0090162",
"postgres__fdw_2option_8c.html#aa9da99da899a9243b42f96de993044cf",
"postmaster_8h.html#ad785d8a8f8ff378aa21eb1fa7a6085df",
"ppport_8h.html#a7880c670e39f32ec6f3e450afab9e5d5",
"ppport_8h.html#afe99564cc7d2da964573c76aa598419b",
"predicate_8c.html#a4646759111a2cf1a067cce2a42dd5892",
"prepare_8h.html#ac78dfd7e65a55942a1845b7666770c6b",
"preproc_2extern_8h.html#a9aab7091cb478d51eaed8dbaee61e404",
"private_8h.html#af93f92125a897e49057cc06a164152fc",
"ps__status_8c.html#aa9926fb56a7c6f55e071a26be7e7aeb4",
"px_8h.html#abc054f48d6d90161c414318344d025ee",
"rangetypes__gist_8c.html#a9a873e7fd1cad2d3250292cb67aab68f",
"regc__color_8c.html#a438c5eee78b10f6a6357e31f1075db86",
"regcomp_8c.html#a707545346a5eb843c38b04ebd3fc45fe",
"regexp_8c.html#a13a7ca842d185a4067ff191c3e02d347",
"regress_8c.html#afe5c926239f01238b731d83f9db42d8e",
"relcache_8h.html#a2d37a229c94e18a89e2b28b457906759a1fd8b5c0eab9b1bd040cf770a3b28f97",
"reltrigger_8h.html#a294546a3a3d32dce8ca8ae4bb4c8d0d2",
"rewriteDefine_8c.html",
"rijndael_8c.html#a0ffd2737144d9e16f82b0a03cf98a345",
"s__lock_8c_source.html",
"selfuncs_8c.html#ab50d5ade813886836ed355c97164b2b1",
"sepgsql_8h.html#a90a4bab99831ea8ea7d86e3067f5dd93",
"setup_8c.html#a19043821e4bec3430af795fdca3388ef",
"signal_8c.html#ad8624748c11ab630b405004c915b0f16",
"smgr_8c.html#a9adf1286a246d24ed4f7fe083d23ae00",
"snprintf_8c.html#ababed19a8d6a66d0dc715d8d5a468cf2",
"spgist__private_8h.html#a4a223bdac751e5e147abef720fb97381",
"spi_8c.html#ae3f14cb9f4d808f77ded64d29f94af87",
"sql-indicators_8c.html",
"src_2bin_2pg__dump_2parallel_8c.html#a19c4878575e177b3997137b4e2ba54cb",
"stem__ISO__8859__1__dutch_8c.html#a71a04db2550a351ea58d78a81ec00e35",
"stem__ISO__8859__1__english_8h.html#afe2326390d5010ae69a3ea3f7648dba6",
"stem__ISO__8859__1__french_8c.html#a716c868efc5dc03449395d63c9e09067",
"stem__ISO__8859__1__hungarian_8c.html#a4776919c553fc5398323c08583743bb3",
"stem__ISO__8859__1__italian_8c.html#a4f7200c800c3085488b2df028a7edc1b",
"stem__ISO__8859__1__porter_8c.html#a036df8daa87ecdc7e3442aea5654ed37",
"stem__ISO__8859__1__portuguese_8c.html#a8123abd5d21c6565ca1b68efbc36e876",
"stem__ISO__8859__1__spanish_8c.html#a7fa43594f63b5f6164a1043ce964f1fa",
"stem__ISO__8859__2__romanian_8c.html#a3d13a5913a88f3bca7eddada71f6f949",
"stem__KOI8__R__russian_8c.html#a2bc1d33372e674a72924c7886e35fcc5",
"stem__UTF__8__dutch_8c.html#abccc2a2679ed7a9104bc58a16ccbc611",
"stem__UTF__8__finnish_8c.html#a2cf8952ca50d937a3ec224c5277ea52c",
"stem__UTF__8__french_8c.html#a9a06115d1abdc06e1487c9af8a41a340",
"stem__UTF__8__hungarian_8c.html#a6a331bd5e384db0c0207f04566c8c493",
"stem__UTF__8__italian_8c.html#a6d9a6de3c1ccf81e0357a1a10ab76e62",
"stem__UTF__8__porter_8c.html#a3acdab248c3c93f83eb9e6910d0a0df6",
"stem__UTF__8__portuguese_8c.html#a9b27b00dd4867b224b7cf9f8eee51ef3",
"stem__UTF__8__romanian_8c.html#aa8c4b5c3597dd03645305683b88d839f",
"stem__UTF__8__russian_8c.html#adbce1f98ba8ffd2cd173c4b32962e2e4",
"stem__UTF__8__spanish_8c.html#ad3bbdfcdc704e3382a160dcd9c9acdf9",
"stem__UTF__8__turkish_8c.html#a9db1913ca8110f2dd53d29b04b7e08fa",
"structA__Expr.html",
"structAlterFdwStmt.html#a0f6ee6b1981cc8e05420929371702cfe",
"structArrayRefExprState.html",
"structBitmapHeapScanState.html#aa95a9ca56c21f364cf93ae14920441e3",
"structChangeVarNodes__context.html",
"structConsiderSplitContext.html#a6ce66465b595c8b1f134356c6c34241c",
"structCreateConversionStmt.html#ac7be080ed81add62c8b339f194685ee7",
"structDR__transientrel.html#a26e4f117421ccb6197353e80b09a9ccf",
"structElementsState.html#afa7308cfedf936698ed711c9cdb3b130",
"structFileNameMap.html#a0ae3fab4f9ac06b9a0a62731694bbf70",
"structGISTSTATE.html#a6f9c9ea0ed0144dec802f620c60e9c17",
"structGinVacuumState.html",
"structHashScanOpaqueData.html#ad1c30298da7554f41b8ffb73a6401ab1",
"structIndexPath.html#a64f1569820372db055f35ec068908e6b",
"structJsonSemAction.html#a0849649da31ead08aaf53dc1b7af359e",
"structLockData.html",
"structModifyTable.html#afa3b17b00a932781aab2a81f8af2bea3",
"structOffsetVarNodes__context.html#a367a9552f305b338bfdc572a88e3d4d6",
"structPLAINTREE.html#ad41618f95ef1e08da55608530e79cdd2",
"structPLpgSQL__stmt__fetch.html#ae2dbbb67453e75d4778e0c8c523d7f06",
"structPQExpBufferData.html#a344178aad2192fca2c395ab060d8272a",
"structPgFdwAnalyzeState.html#aa88b1c4d27e9065cb5b469573da98a36",
"structPgStat__TableCounts.html#a2418c5cc61f9735e8b6e4fe28a4df7e1",
"structPortalData.html#aaee7de3594c0035d619a32c958c1d474",
"structRBTree.html#a259103b092340c5b64aabff1d9bc644c",
"structRelOptInfo.html#a84831aaa77c4a5106f2f5431ac8ede5d",
"structResTarget.html",
"structSMgrRelationData.html#a3b096781495315776de735a4eab2f4a5",
"structSharedInvalSnapshotMsg.html#a4bcf7df9eda8f02061e115945d2449aa",
"structStartupPacket.html#ab79e326bd30fc89ce9c819d2ffbbac48",
"structTSVectorParseStateData.html#a80790781dd8691e3f1a1e21258175d9d",
"structTrieChar.html#a85bad6fac2e34a8fcbbc746ea5375545",
"structTypeCacheEntry.html#acdc87495c50a53bf640910fe3d9cb3b5",
"structWindowAgg.html#aec9fbdfee1e54298cee82b2a7f6f6679",
"structXLogReaderState.html#a317eca29a19068cb3d9fe9ab0eaabe88",
"struct__castInfo.html#addabbd1450702b7cfb18ed7c5bf50d77",
"struct__ruleInfo.html#aebee37ca826b37e003badf799f0e9042",
"structavl__dbase.html#ad8ce14b26e4d6be00b4208a5db4eae7c",
"structconnection.html#a846e917011cd6a025fac6544173e2b03",
"structerror__desc.html#a8bd78a0b6c726e6cf5a8d30c9fead5e3",
"structgtrgm__consistent__cache.html",
"structmd5__ctxt.html#afe0283d08ff6dcf3e57076fd60511f73",
"structpg__conn.html#aca726659fed8603fb5e7c41eb3cea345",
"structpltcl__query__desc.html#aba0acaf06f8cc40172b27a81f0243db0",
"structrendezvousHashEntry.html",
"structspgxlogAddNode.html",
"structsubstitute__multiple__relids__context.html#ae4d8daa5b018a9bdaeaffb9fe146eff5",
"structxl__btree__reuse__page.html#a890756d0e97dbc5851f70e24c4b003b4",
"subselect_8c.html#a5b6803cb863405da09cbdcb8f1e4b7ea",
"syscache_8h.html#a8370def86692b774f7566031d3bfd5b6",
"tablecmds_8c.html#af324dac84b5c39de972a046bd7866dcc",
"thread-descriptor_8c.html#ae66f6b31b5ad750f1fe042a706a4e3d4",
"tlist_8h.html#af1ef68c3c379f90d9a7615a491ea4c9e",
"trgm__gist_8c.html#ab02b33f44de208fb4c2618718ea858fc",
"ts__cache_8c.html#aaf4caad4e85413164d5a11bfdbac65d2",
"ts__utils_8h.html#a9187e449da1c3fe5ff0e13506c30d1ff",
"tsquery__cleanup_8c.html#adaab376a394432daf287a3ec3e98ae1c",
"tuplesort_8c.html#a28222b65b083689c850c347f6579c68a",
"twophase_8c.html#a1a6cfca564efc77a2e4eed0c0f2cead5",
"typecmds_8c_source.html",
"uri-regress_8c.html",
"utils_2inet_8h.html",
"vacuum_8c.html#a29bd52a8447c47c9952375127816b0d7",
"varbit_8h.html#abdce8b003f7a922258162f237b948c1d",
"version__old__8__3_8c.html",
"walsender__private_8h.html",
"wparser__def_8c.html#a11d87f89f5e55436cc9a09770adb0490",
"xact_8c.html#a11b67da7c8209b24567319c62096199b",
"xactdesc_8c.html#ade33175cfbd69460fa4c53625ecb6381",
"xlog_8c.html#af4fe84c6134b8d5871966737d08d7de7",
"xlogreader_8c.html#a560c585f2354154538df9c7eac65bc0f",
"zic_8c.html#a2a1e53997c119c45d1c8a84f836469c3"
];

var navTreeSubIndices = new Array();

function getData(varName)
{
  var i = varName.lastIndexOf('/');
  var n = i>=0 ? varName.substring(i+1) : varName;
  return eval(n.replace(/\-/g,'_'));
}

function stripPath(uri)
{
  return uri.substring(uri.lastIndexOf('/')+1);
}

function stripPath2(uri)
{
  var i = uri.lastIndexOf('/');
  var s = uri.substring(i+1);
  var m = uri.substring(0,i+1).match(/\/d\w\/d\w\w\/$/);
  return m ? uri.substring(i-6) : s;
}

function localStorageSupported()
{
  return 'localStorage' in window && window['localStorage'] !== null;
}

function storeLink(link)
{
  if (!$("#nav-sync").hasClass('sync') && localStorageSupported()) {
      window.localStorage.setItem('navpath',link);
  }
}

function deleteLink()
{
  if (localStorageSupported()) {
    window.localStorage.setItem('navpath','');
  } 
}

function cachedLink()
{
  if (localStorageSupported()) {
    return window.localStorage.getItem('navpath');
  } else {
    return '';
  }
}

function getScript(scriptName,func,show)
{
  var head = document.getElementsByTagName("head")[0]; 
  var script = document.createElement('script');
  script.id = scriptName;
  script.type = 'text/javascript';
  script.onload = func; 
  script.src = scriptName+'.js'; 
  if ($.browser.msie && $.browser.version<=8) { 
    // script.onload does work with older versions of IE
    script.onreadystatechange = function() {
      if (script.readyState=='complete' || script.readyState=='loaded') { 
        func(); if (show) showRoot(); 
      }
    }
  }
  head.appendChild(script); 
}

function createIndent(o,domNode,node,level)
{
  if (node.parentNode && node.parentNode.parentNode) {
    createIndent(o,domNode,node.parentNode,level+1);
  }
  var imgNode = document.createElement("img");
  imgNode.width = 16;
  imgNode.height = 22;
  if (level==0 && node.childrenData) {
    node.plus_img = imgNode;
    node.expandToggle = document.createElement("a");
    node.expandToggle.href = "javascript:void(0)";
    node.expandToggle.onclick = function() {
      if (node.expanded) {
        $(node.getChildrenUL()).slideUp("fast");
        if (node.isLast) {
          node.plus_img.src = node.relpath+"ftv2plastnode.png";
        } else {
          node.plus_img.src = node.relpath+"ftv2pnode.png";
        }
        node.expanded = false;
      } else {
        expandNode(o, node, false, false);
      }
    }
    node.expandToggle.appendChild(imgNode);
    domNode.appendChild(node.expandToggle);
  } else {
    domNode.appendChild(imgNode);
  }
  if (level==0) {
    if (node.isLast) {
      if (node.childrenData) {
        imgNode.src = node.relpath+"ftv2plastnode.png";
      } else {
        imgNode.src = node.relpath+"ftv2lastnode.png";
        domNode.appendChild(imgNode);
      }
    } else {
      if (node.childrenData) {
        imgNode.src = node.relpath+"ftv2pnode.png";
      } else {
        imgNode.src = node.relpath+"ftv2node.png";
        domNode.appendChild(imgNode);
      }
    }
  } else {
    if (node.isLast) {
      imgNode.src = node.relpath+"ftv2blank.png";
    } else {
      imgNode.src = node.relpath+"ftv2vertline.png";
    }
  }
  imgNode.border = "0";
}

function newNode(o, po, text, link, childrenData, lastNode)
{
  var node = new Object();
  node.children = Array();
  node.childrenData = childrenData;
  node.depth = po.depth + 1;
  node.relpath = po.relpath;
  node.isLast = lastNode;

  node.li = document.createElement("li");
  po.getChildrenUL().appendChild(node.li);
  node.parentNode = po;

  node.itemDiv = document.createElement("div");
  node.itemDiv.className = "item";

  node.labelSpan = document.createElement("span");
  node.labelSpan.className = "label";

  createIndent(o,node.itemDiv,node,0);
  node.itemDiv.appendChild(node.labelSpan);
  node.li.appendChild(node.itemDiv);

  var a = document.createElement("a");
  node.labelSpan.appendChild(a);
  node.label = document.createTextNode(text);
  node.expanded = false;
  a.appendChild(node.label);
  if (link) {
    var url;
    if (link.substring(0,1)=='^') {
      url = link.substring(1);
      link = url;
    } else {
      url = node.relpath+link;
    }
    a.className = stripPath(link.replace('#',':'));
    if (link.indexOf('#')!=-1) {
      var aname = '#'+link.split('#')[1];
      var srcPage = stripPath($(location).attr('pathname'));
      var targetPage = stripPath(link.split('#')[0]);
      a.href = srcPage!=targetPage ? url : '#';
      a.onclick = function(){
        storeLink(link);
        if (!$(a).parent().parent().hasClass('selected'))
        {
          $('.item').removeClass('selected');
          $('.item').removeAttr('id');
          $(a).parent().parent().addClass('selected');
          $(a).parent().parent().attr('id','selected');
        }
        var pos, anchor = $(aname), docContent = $('#doc-content');
        if (anchor.parent().attr('class')=='memItemLeft') {
          pos = anchor.parent().position().top;
        } else if (anchor.position()) {
          pos = anchor.position().top;
        }
        if (pos) {
          var dist = Math.abs(Math.min(
                     pos-docContent.offset().top,
                     docContent[0].scrollHeight-
                     docContent.height()-docContent.scrollTop()));
          docContent.animate({
            scrollTop: pos + docContent.scrollTop() - docContent.offset().top
          },Math.max(50,Math.min(500,dist)),function(){
            window.location.replace(aname);
          });
        }
      };
    } else {
      a.href = url;
      a.onclick = function() { storeLink(link); }
    }
  } else {
    if (childrenData != null) 
    {
      a.className = "nolink";
      a.href = "javascript:void(0)";
      a.onclick = node.expandToggle.onclick;
    }
  }

  node.childrenUL = null;
  node.getChildrenUL = function() {
    if (!node.childrenUL) {
      node.childrenUL = document.createElement("ul");
      node.childrenUL.className = "children_ul";
      node.childrenUL.style.display = "none";
      node.li.appendChild(node.childrenUL);
    }
    return node.childrenUL;
  };

  return node;
}

function showRoot()
{
  var headerHeight = $("#top").height();
  var footerHeight = $("#nav-path").height();
  var windowHeight = $(window).height() - headerHeight - footerHeight;
  (function (){ // retry until we can scroll to the selected item
    try {
      var navtree=$('#nav-tree');
      navtree.scrollTo('#selected',0,{offset:-windowHeight/2});
    } catch (err) {
      setTimeout(arguments.callee, 0);
    }
  })();
}

function expandNode(o, node, imm, showRoot)
{
  if (node.childrenData && !node.expanded) {
    if (typeof(node.childrenData)==='string') {
      var varName    = node.childrenData;
      getScript(node.relpath+varName,function(){
        node.childrenData = getData(varName);
        expandNode(o, node, imm, showRoot);
      }, showRoot);
    } else {
      if (!node.childrenVisited) {
        getNode(o, node);
      } if (imm || ($.browser.msie && $.browser.version>8)) { 
        // somehow slideDown jumps to the start of tree for IE9 :-(
        $(node.getChildrenUL()).show();
      } else {
        $(node.getChildrenUL()).slideDown("fast");
      }
      if (node.isLast) {
        node.plus_img.src = node.relpath+"ftv2mlastnode.png";
      } else {
        node.plus_img.src = node.relpath+"ftv2mnode.png";
      }
      node.expanded = true;
    }
  }
}

function glowEffect(n,duration)
{
  n.addClass('glow').delay(duration).queue(function(next){
    $(this).removeClass('glow');next();
  });
}

function highlightAnchor()
{
  var anchor = $($(location).attr('hash'));
  if (anchor.parent().attr('class')=='memItemLeft'){
    var rows = $('.memberdecls tr[class$="'+
               window.location.hash.substring(1)+'"]');
    glowEffect(rows.children(),300); // member without details
  } else if (anchor.parents().slice(2).prop('tagName')=='TR') {
    glowEffect(anchor.parents('div.memitem'),1000); // enum value
  } else if (anchor.parent().attr('class')=='fieldtype'){
    glowEffect(anchor.parent().parent(),1000); // struct field
  } else if (anchor.parent().is(":header")) {
    glowEffect(anchor.parent(),1000); // section header
  } else {
    glowEffect(anchor.next(),1000); // normal member
  }
}

function selectAndHighlight(hash,n)
{
  var a;
  if (hash) {
    var link=stripPath($(location).attr('pathname'))+':'+hash.substring(1);
    a=$('.item a[class$="'+link+'"]');
  }
  if (a && a.length) {
    a.parent().parent().addClass('selected');
    a.parent().parent().attr('id','selected');
    highlightAnchor();
  } else if (n) {
    $(n.itemDiv).addClass('selected');
    $(n.itemDiv).attr('id','selected');
  }
  showRoot();
}

function showNode(o, node, index, hash)
{
  if (node && node.childrenData) {
    if (typeof(node.childrenData)==='string') {
      var varName    = node.childrenData;
      getScript(node.relpath+varName,function(){
        node.childrenData = getData(varName);
        showNode(o,node,index,hash);
      },true);
    } else {
      if (!node.childrenVisited) {
        getNode(o, node);
      }
      $(node.getChildrenUL()).show();
      if (node.isLast) {
        node.plus_img.src = node.relpath+"ftv2mlastnode.png";
      } else {
        node.plus_img.src = node.relpath+"ftv2mnode.png";
      }
      node.expanded = true;
      var n = node.children[o.breadcrumbs[index]];
      if (index+1<o.breadcrumbs.length) {
        showNode(o,n,index+1,hash);
      } else {
        if (typeof(n.childrenData)==='string') {
          var varName = n.childrenData;
          getScript(n.relpath+varName,function(){
            n.childrenData = getData(varName);
            node.expanded=false;
            showNode(o,node,index,hash); // retry with child node expanded
          },true);
        } else {
          var rootBase = stripPath(o.toroot.replace(/\..+$/, ''));
          if (rootBase=="index" || rootBase=="pages") {
            expandNode(o, n, true, true);
          }
          selectAndHighlight(hash,n);
        }
      }
    }
  } else {
    selectAndHighlight(hash);
  }
}

function getNode(o, po)
{
  po.childrenVisited = true;
  var l = po.childrenData.length-1;
  for (var i in po.childrenData) {
    var nodeData = po.childrenData[i];
    po.children[i] = newNode(o, po, nodeData[0], nodeData[1], nodeData[2],
      i==l);
  }
}

function gotoNode(o,subIndex,root,hash,relpath)
{
  var nti = navTreeSubIndices[subIndex][root+hash];
  o.breadcrumbs = $.extend(true, [], nti ? nti : navTreeSubIndices[subIndex][root]);
  if (!o.breadcrumbs && root!=NAVTREE[0][1]) { // fallback: show index
    navTo(o,NAVTREE[0][1],"",relpath);
    $('.item').removeClass('selected');
    $('.item').removeAttr('id');
  }
  if (o.breadcrumbs) {
    o.breadcrumbs.unshift(0); // add 0 for root node
    showNode(o, o.node, 0, hash);
  }
}

function navTo(o,root,hash,relpath)
{
  var link = cachedLink();
  if (link) {
    var parts = link.split('#');
    root = parts[0];
    if (parts.length>1) hash = '#'+parts[1];
    else hash='';
  }
  if (root==NAVTREE[0][1]) {
    $('#nav-sync').css('top','30px');
  } else {
    $('#nav-sync').css('top','5px');
  }
  if (hash.match(/^#l\d+$/)) {
    var anchor=$('a[name='+hash.substring(1)+']');
    glowEffect(anchor.parent(),1000); // line number
    hash=''; // strip line number anchors
    //root=root.replace(/_source\./,'.'); // source link to doc link
  }
  var url=root+hash;
  var i=-1;
  while (NAVTREEINDEX[i+1]<=url) i++;
  if (navTreeSubIndices[i]) {
    gotoNode(o,i,root,hash,relpath)
  } else {
    getScript(relpath+'navtreeindex'+i,function(){
      navTreeSubIndices[i] = eval('NAVTREEINDEX'+i);
      if (navTreeSubIndices[i]) {
        gotoNode(o,i,root,hash,relpath);
      }
    },true);
  }
}

function toggleSyncButton(relpath)
{
  var navSync = $('#nav-sync');
  if (navSync.hasClass('sync')) {
    navSync.removeClass('sync');
    navSync.html('<img src="'+relpath+'sync_off.png"/>');
    storeLink(stripPath2($(location).attr('pathname'))+$(location).attr('hash'));
  } else {
    navSync.addClass('sync');
    navSync.html('<img src="'+relpath+'sync_on.png"/>');
    deleteLink();
  }
}

function initNavTree(toroot,relpath)
{
  var o = new Object();
  o.toroot = toroot;
  o.node = new Object();
  o.node.li = document.getElementById("nav-tree-contents");
  o.node.childrenData = NAVTREE;
  o.node.children = new Array();
  o.node.childrenUL = document.createElement("ul");
  o.node.getChildrenUL = function() { return o.node.childrenUL; };
  o.node.li.appendChild(o.node.childrenUL);
  o.node.depth = 0;
  o.node.relpath = relpath;
  o.node.expanded = false;
  o.node.isLast = true;
  o.node.plus_img = document.createElement("img");
  o.node.plus_img.src = relpath+"ftv2pnode.png";
  o.node.plus_img.width = 16;
  o.node.plus_img.height = 22;

  if (localStorageSupported()) {
    var navSync = $('#nav-sync');
    if (cachedLink()) {
      navSync.html('<img src="'+relpath+'sync_off.png"/>');
      navSync.removeClass('sync');
    } else {
      navSync.html('<img src="'+relpath+'sync_on.png"/>');
    }
    navSync.click(function(){ toggleSyncButton(relpath); });
  }

  navTo(o,toroot,window.location.hash,relpath);

  $(window).bind('hashchange', function(){
     if (window.location.hash && window.location.hash.length>1){
       var a;
       if ($(location).attr('hash')){
         var clslink=stripPath($(location).attr('pathname'))+':'+
                               $(location).attr('hash').substring(1);
         a=$('.item a[class$="'+clslink+'"]');
       }
       if (a==null || !$(a).parent().parent().hasClass('selected')){
         $('.item').removeClass('selected');
         $('.item').removeAttr('id');
       }
       var link=stripPath2($(location).attr('pathname'));
       navTo(o,link,$(location).attr('hash'),relpath);
     }
  })

  $(window).load(showRoot);
}

